import {RequestHandler} from "express";import {EncryptAndDecrypt, EncryptAndDecrypt as encryptAndDecrypt} from '../lib/encryptAndDecrypt';import {user as userRepo} from "../repositories/user";const crypto = require("crypto")export class outPutEncrypt {    private userRepo:any;    private encryptAndDecrypt:any;    constructor() {        this.userRepo = new userRepo();        this.encryptAndDecrypt = new EncryptAndDecrypt();    }    public output:RequestHandler = async (req,res,next) =>{        if(req.url.includes('/user/')){            let userPubKey = await this.userRepo.getUserKey(req, res, next);            let encryptRoomKey = await this.encryptAndDecrypt.encrypt(JSON.stringify(res.locals.result), userPubKey);            let data = {                success: encryptRoomKey,            }            return res.json(data)        }else {            let data = {                success: res.locals.result,            }            return res.json(data)        }    }}